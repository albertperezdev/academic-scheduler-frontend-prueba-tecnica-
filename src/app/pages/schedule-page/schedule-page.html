<div class="flex flex-row gap-6 px-4 py-4">
  <div class="flex-1">
    <div class="px-4 mt-4">
      <div
        class="bg-white/5 backdrop-blur-xl border border-white/10 rounded-xl p-4 mx-4 mt-4 shadow-[0_0_25px_rgba(0,0,0,0.20)] w-full relative"
      >
        <p-speedDial
          type="semi-circle"
          [model]="actions"
          direction="left"
          class="absolute top-4 right-4"
          showIcon="pi pi-plus"
          hideIcon="pi pi-times"
          buttonStyleClass="bg-emerald-500 hover:bg-emerald-600 text-white shadow-lg"
        />

        <h2 class="text-white font-semibold text-2xl mb-6 tracking-wide">
          Horario Académico
        </h2>

        @if (scheduleForUser(); as horario) {
        <div class="w-full">
          <div class="w-full max-w-[1100px] px-4 mx-auto">
            <div class="flex flex-row justify-between gap-5">
              @for (dia of dias; track $index) {
              <div
                class="schedule-card w-[250px] min-h-60 backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-4 shadow-[0_0_20px_rgba(0,0,0,0.25)] hover:shadow-[0_0_30px_rgba(0,0,0,0.35)] transition-all duration-300"
              >
                <h3
                  class="text-white font-semibold text-base tracking-wide mb-4 text-center"
                >
                  {{ dia }}
                </h3>

                @if (getEventosPorDia(horario, dia).length === 0) {
                <p class="text-white/30 text-center mt-6 text-sm">
                  — Sin clases —
                </p>
                }

                <p-scroll-panel [style]="{ height: '300px' }">
                  @for (item of getEventosPorDia(horario, dia); track item) {
                  <p-card
                    class="schedule-glow mb-3 bg-[#0e0e0e]/80 border border-emerald-400/20 rounded-xl shadow-md text-white"
                  >
                    <ng-template #title>
                      <h3 class="font-bold text-sm">{{ item.asignatura }}</h3>
                    </ng-template>

                    <div class="flex items-center gap-2 mt-1">
                      <i class="pi pi-clock text-emerald-300"></i>
                      <span class="text-white/80 text-xs">
                        {{ item.hora_inicio }} — {{ item.hora_fin }}
                      </span>
                    </div>
                  </p-card>
                  }
                </p-scroll-panel>
              </div>
              }
            </div>
          </div>
        </div>
        }
      </div>
    </div>
  </div>

  <p-toast />
</div>

<app-schedule-dialog-add />
<app-schedule-dialog-edit />
<app-schedule-dialog-delete />
